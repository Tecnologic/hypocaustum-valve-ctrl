<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="DoxyPress 1.7.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>modm API documentation: System Clock</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxypress.css" rel="stylesheet" type="text/css" />
<link href="custom.css" rel="stylesheet" type="text/css"/>
<link href="custom_dark_theme.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by DoxyPress -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">modm API documentation
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by DoxyPress 1.7.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__modm__architecture__clock.html',''); initResizable(); });
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
    <div class="title">System Clock<div class="ingroups"><a class="el" href="group__modm__architecture.html">Architecture Interfaces</a></div></div>
  </div>
  <div class="clear-floats"></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmodm_1_1chrono_1_1micro__clock.html">modm::chrono::micro_clock</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmodm_1_1chrono_1_1milli__clock.html">modm::chrono::milli_clock</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gaea867c6a43c2d9ad11a0c4e2808a5f2c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaea867c6a43c2d9ad11a0c4e2808a5f2c"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>modm::Clock</b> = <a class="el" href="structmodm_1_1chrono_1_1milli__clock.html">chrono::milli_clock</a></td></tr>
<tr class="separator:gaea867c6a43c2d9ad11a0c4e2808a5f2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0fbdeec9cb2bbb049c6bf1627a927e46"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga0fbdeec9cb2bbb049c6bf1627a927e46"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>modm::PreciseClock</b> = <a class="el" href="structmodm_1_1chrono_1_1micro__clock.html">chrono::micro_clock</a></td></tr>
<tr class="separator:ga0fbdeec9cb2bbb049c6bf1627a927e46"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gabe9848f1607ba8b4a7f33d72a2b300e7"><td class="memTemplParams" colspan="2"><a class="anchor" id="gabe9848f1607ba8b4a7f33d72a2b300e7"></a>
template&lt;class C , class D &gt; </td></tr>
<tr class="memitem:gabe9848f1607ba8b4a7f33d72a2b300e7"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="classmodm_1_1IOStream.html">modm::IOStream</a> &amp;&#160;</td><td class="memTemplItemRight" valign="bottom"><b>modm::operator&lt;&lt;</b> (<a class="el" href="classmodm_1_1IOStream.html">modm::IOStream</a> &amp;s, const std::chrono::time_point&lt; C, D &gt; &amp;m)</td></tr>
<tr class="separator:gabe9848f1607ba8b4a7f33d72a2b300e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5fd9e42677a8ceb3cc50c36150206b58"><td class="memTemplParams" colspan="2"><a class="anchor" id="ga5fd9e42677a8ceb3cc50c36150206b58"></a>
template&lt;class T , class R &gt; </td></tr>
<tr class="memitem:ga5fd9e42677a8ceb3cc50c36150206b58"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="classmodm_1_1IOStream.html">modm::IOStream</a> &amp;&#160;</td><td class="memTemplItemRight" valign="bottom"><b>modm::operator&lt;&lt;</b> (<a class="el" href="classmodm_1_1IOStream.html">modm::IOStream</a> &amp;s, const std::chrono::duration&lt; T, R &gt; &amp;m)</td></tr>
<tr class="separator:ga5fd9e42677a8ceb3cc50c36150206b58"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>lbuild module: <code>modm:architecture:clock</code></p>
<p>To provide a system-wide time base this module provides two clocks:</p>
<ul>
<li><code>modm::Clock</code>: a 32-bit unsigned millisecond clock running for approx. 49 days until wrap around, as an optimized replacement of <code>std::chrono::system_clock</code>.</li>
<li><code>modm::PreciseClock</code>: a 32-bit unsigned microsecond clock running for approx. 71 minutes until wrap around, as an optimized replacement of <code>std::chrono::high_resolution_clock</code>.</li>
</ul>
<p>These clocks are intended to measure time intervals:</p>
<div class="fragment"><div class="line"><span class="keyword">const</span> <span class="keyword">auto</span> start = modm::PreciseClock::now();</div>
<div class="line">how_long_does_this_function_take();</div>
<div class="line"><span class="keyword">const</span> <span class="keyword">auto</span> duration = modm::PreciseClock::now() - start;</div>
<div class="line"><a class="code" href="group__modm__debug.html#ga31bd6931a8999d2c639cc8c4f0c6b3d0">MODM_LOG_DEBUG</a> &lt;&lt; <span class="stringliteral">&quot;Function took &quot;</span> &lt;&lt; duration &lt;&lt; <a class="code" href="group__modm__io.html#ga25d1ec416bcd6a8b8d1d280c99fd2d55">modm::endl</a>;</div>
</div><!-- end fragment -->
<p>For additional common timeout and periodic timer use-cases also check out the <code>modm:processing:timer</code> module which uses these clocks.</p>
<h2>Limitations</h2>
<p>The clocks intended to be very lightweight to use, however, a few interface tradeoffs had to be made to achieve this goal.</p>
<ol type="1">
<li>The clocks are <b>not steady</b> with their 32-bit counters overflowing after a relatively short time. They must therefore only be used for measuring intervals, not absolute time.</li>
<li>The clocks have <em>unsigned</em> durations to make it easy to work with intervals since the addition/subtraction of intervals works just fine on clocks wrapping around, on the important condition that the interval is shorter than the clocks wrap around time.</li>
</ol>
<dl class="section warning"><dt>Warning</dt><dd>Use a RTC-backed calendar for timekeeping! These clocks are definitely not accurate over long periods of time, since they are based on the internal clock supplies, which may have significant drift and thus are no replacement for a Real-Time Clock!</dd></dl>
<p>Also check the <a href="group__modm__platform__clock.html"><code>modm:platform:clock</code></a> module descriptions for additional limitations on clock resolution and clock drift depending on target. </p>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for DoxyPress 1.3.7-->
<!-- Generated by DoxyPress 1.7.0 -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.copperspice.com/documentation-doxypress.html">
    <img class="footer" src="doxypress.png" alt="DoxyPress"/></a> 1.7.0 </li>
  </ul>
</div>
<script>
if (window.location.href.includes("modm.io")) {
 var device = /\/api\/([a-zA-Z0-9_-]+)\//.exec(window.location.href)[1].toUpperCase();
 document.title = document.title.replace("modm API documentation", "modm API documentation for " + device);
 document.getElementById('projectname').innerHTML = document.getElementById('projectname').innerHTML.replace("modm API documentation", "modm API documentation for " + device);
}
document.getElementById('MSearchResults').onload = function()
{
  var iframe = document.getElementById('MSearchResults').contentWindow.document;
  var head = iframe.getElementsByTagName("head")[0];
  var link = iframe.createElement("link");
  link.setAttribute("rel", "stylesheet");
  link.setAttribute("type", "text/css");
  link.setAttribute("href", "../custom.css");
  head.appendChild(link);
  var link = iframe.createElement("link");
  link.setAttribute("rel", "stylesheet");
  link.setAttribute("type", "text/css");
  link.setAttribute("href", "../custom_dark_theme.css");
  head.appendChild(link);
}
</script>
</body>
</html>
